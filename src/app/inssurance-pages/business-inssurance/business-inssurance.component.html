<app-loading *ngIf="isLoading"></app-loading>
<div class="flex flex-col md:flex-row md:space-x-4 mt-16 mx-3">
  <!-- Sidebar -->
  <div class="w-full mt-4 md:w-1/4 bg-white p-4 shadow-custom mb-4 md:mb-0">
    <div class="flex flex-col space-y-4">
      <a
        (click)="showContent('general')"
        [class.selected]="selected === 'general'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Commercial_General_Liability")
        }}</span>
      </a>
      <hr class="border-gray-300" />

      <a
        (click)="showContent('property')"
        [class.selected]="selected === 'property'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Commercial_Property_Insurance")
        }}</span>
      </a>
      <hr class="border-gray-300" />

      <a
        (click)="showContent('shop')"
        [class.selected]="selected === 'shop'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Auto_Shop_Insurance")
        }}</span>
      </a>
      <hr class="border-gray-300" />

      <a
        (click)="showContent('administrator')"
        [class.selected]="selected === 'administrator'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Administrator")
        }}</span>
      </a>
      <hr class="border-gray-300" />

      <a
        (click)="showContent('condominium')"
        [class.selected]="selected === 'condominium'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Condominium_Insurance")
        }}</span>
      </a>
      <hr class="border-gray-300" />

      <a
        (click)="showContent('cargo')"
        [class.selected]="selected === 'cargo'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Cargo_Insurance")
        }}</span>
      </a>
      <hr class="border-gray-300" />

      <a
        (click)="showContent('credit')"
        [class.selected]="selected === 'credit'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Credit_Insurance")
        }}</span>
      </a>
      <hr class="border-gray-300" />

      <a
        (click)="showContent('entertainement')"
        [class.selected]="selected === 'entertainement'"
        class="flex items-center space-x-2 hover:bg-blue-100 p-3 rounded transition-colors duration-300"
      >
        <span class="text-sm md:text-base">{{
          getTranslation("Entertainment_Industry")
        }}</span>
      </a>
    </div>
  </div>

  <div class="w-full mt-4 md:w-3/4 bg-white p-6 md:p-8 shadow-custom">
    <ng-container *ngFor="let iData of individualData; let i = index">
      <div *ngIf="currentContent === iData.subCategory" class="content">
        <ng-container *ngIf="!isEditing">
          <div [innerHTML]="iData.text"></div>
        </ng-container>

        <ng-container *ngIf="isEditing && iData && iData.originalText">
          <editor
            style="margin-top: 50px"
            [(ngModel)]="iData.originalText"
            apiKey="d0x7em9ik6bwtkgldgsn3n4h39p36rw346yxyr6jo9lwwk9o"
            [init]="editorConfig"
          ></editor>
        </ng-container>

        <div class="flex space-x-4 mt-4 justify-end">
          <button
            *ngIf="isLoggedIn() && isEditing"
            (click)="saveContent(iData.subCategory, i)"
            class="bg-green-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-green-600 transition duration-200 shadow-lg"
          >
            Save
          </button>

          <button
            *ngIf="isLoggedIn()"
            (click)="toggleEdit()"
            class="bg-red-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-red-600 transition duration-200 shadow-lg"
          >
            {{ cancelEdit }}
          </button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
